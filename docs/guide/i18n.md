---
title: i18n
date: 2025-08-04 16:46:36
permalink: /pages/a18eb4/
categories:
  - guide
tags:
  -
author:
  name: æ–‡æ¡£ä½œè€…
  link: https://github.com/your-username
---

# å›½é™…åŒ–

cc-admin æ¡†æ¶ä½¿ç”¨ Vue I18n ä½œä¸ºå›½é™…åŒ–è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒå¤šè¯­è¨€åˆ‡æ¢å’Œæœ¬åœ°åŒ–ã€‚

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### Vue I18n ä¼˜åŠ¿

- **å¤šè¯­è¨€æ”¯æŒ** - æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€ç¹ä½“ä¸­æ–‡
- **åŠ¨æ€åˆ‡æ¢** - è¿è¡Œæ—¶è¯­è¨€åˆ‡æ¢
- **æ ¼å¼åŒ–** - æ”¯æŒæ•°å­—ã€æ—¥æœŸæ ¼å¼åŒ–
- **å¤æ•°è§„åˆ™** - æ”¯æŒå¤æ•°å½¢å¼å¤„ç†
- **RTL æ”¯æŒ** - æ”¯æŒä»å³åˆ°å·¦çš„å¸ƒå±€

## ğŸ“ ç›®å½•ç»“æ„

```
src/locales/
â”œâ”€â”€ ğŸ“„ index.ts              # å›½é™…åŒ–å…¥å£
â”œâ”€â”€ ğŸ“„ types.ts              # å›½é™…åŒ–ç±»å‹
â”œâ”€â”€ ğŸ“ lang/                 # è¯­è¨€åŒ…
â”‚   â”œâ”€â”€ ğŸ“„ en-US.ts         # è‹±æ–‡
â”‚   â”œâ”€â”€ ğŸ“„ zh-CN.ts         # ç®€ä½“ä¸­æ–‡
â”‚   â””â”€â”€ ğŸ“„ zh-TW.ts         # ç¹ä½“ä¸­æ–‡
â””â”€â”€ ğŸ“ modules/              # å›½é™…åŒ–æ¨¡å—
    â”œâ”€â”€ ğŸ“„ auth.ts           # è®¤è¯ç›¸å…³ç¿»è¯‘
    â”œâ”€â”€ ğŸ“„ common.ts         # é€šç”¨ç¿»è¯‘
    â”œâ”€â”€ ğŸ“„ dashboard.ts      # ä»ªè¡¨ç›˜ç¿»è¯‘
    â”œâ”€â”€ ğŸ“„ router.ts         # è·¯ç”±ç¿»è¯‘
    â””â”€â”€ ğŸ“„ user.ts           # ç”¨æˆ·ç›¸å…³ç¿»è¯‘
```

## ğŸ”§ æ ¸å¿ƒé…ç½®

### å›½é™…åŒ–å…¥å£

```typescript
// locales/index.ts
import { createI18n } from "vue-i18n";
import enUS from "./lang/en-US";
import zhCN from "./lang/zh-CN";
import zhTW from "./lang/zh-TW";

// æ”¯æŒçš„è¯­è¨€åˆ—è¡¨
export const supportedLocales = [
  {
    key: "zh-CN",
    name: "ç®€ä½“ä¸­æ–‡",
    flag: "ğŸ‡¨ğŸ‡³",
    direction: "ltr",
  },
  {
    key: "en-US",
    name: "English",
    flag: "ğŸ‡ºğŸ‡¸",
    direction: "ltr",
  },
  {
    key: "zh-TW",
    name: "ç¹é«”ä¸­æ–‡",
    flag: "ğŸ‡¹ğŸ‡¼",
    direction: "ltr",
  },
];

// åˆ›å»º i18n å®ä¾‹
export const i18n = createI18n({
  legacy: false,
  locale: getDefaultLocale(),
  fallbackLocale: "zh-CN",
  messages: { "zh-CN": zhCN, "en-US": enUS, "zh-TW": zhTW },
  globalInjection: true,
});

// è·å–é»˜è®¤è¯­è¨€
function getDefaultLocale(): string {
  const savedLocale = localStorage.getItem("cc-admin-locale");
  if (savedLocale && supportedLocales.find((l) => l.key === savedLocale)) {
    return savedLocale;
  }

  const browserLang = navigator.language.toLowerCase();
  if (browserLang.includes("zh")) {
    return browserLang.includes("tw") ? "zh-TW" : "zh-CN";
  }

  return "zh-CN";
}

// è®¾ç½®è¯­è¨€
export function setLocale(locale: string) {
  i18n.global.locale.value = locale;
  localStorage.setItem("cc-admin-locale", locale);
  document.documentElement.lang = locale;
}
```

### è¯­è¨€åŒ…ç¤ºä¾‹

```typescript
// locales/lang/zh-CN.ts
export default {
  common: {
    confirm: "ç¡®è®¤",
    cancel: "å–æ¶ˆ",
    save: "ä¿å­˜",
    delete: "åˆ é™¤",
    edit: "ç¼–è¾‘",
    add: "æ·»åŠ ",
    search: "æœç´¢",
    loading: "åŠ è½½ä¸­...",
    error: "é”™è¯¯",
    success: "æˆåŠŸ",
    warning: "è­¦å‘Š",
    info: "ä¿¡æ¯",
  },
  auth: {
    login: "ç™»å½•",
    logout: "é€€å‡ºç™»å½•",
    username: "ç”¨æˆ·å",
    password: "å¯†ç ",
    remember: "è®°ä½æˆ‘",
    forgotPassword: "å¿˜è®°å¯†ç ",
    register: "æ³¨å†Œ",
  },
  dashboard: {
    title: "ä»ªè¡¨ç›˜",
    overview: "æ¦‚è§ˆ",
    statistics: "ç»Ÿè®¡",
    charts: "å›¾è¡¨",
    reports: "æŠ¥è¡¨",
  },
  user: {
    title: "ç”¨æˆ·ç®¡ç†",
    list: "ç”¨æˆ·åˆ—è¡¨",
    profile: "ä¸ªäººèµ„æ–™",
    settings: "è®¾ç½®",
    avatar: "å¤´åƒ",
    email: "é‚®ç®±",
    role: "è§’è‰²",
    status: "çŠ¶æ€",
  },
};
```

```typescript
// locales/lang/en-US.ts
export default {
  common: {
    confirm: "Confirm",
    cancel: "Cancel",
    save: "Save",
    delete: "Delete",
    edit: "Edit",
    add: "Add",
    search: "Search",
    loading: "Loading...",
    error: "Error",
    success: "Success",
    warning: "Warning",
    info: "Info",
  },
  auth: {
    login: "Login",
    logout: "Logout",
    username: "Username",
    password: "Password",
    remember: "Remember me",
    forgotPassword: "Forgot password",
    register: "Register",
  },
  dashboard: {
    title: "Dashboard",
    overview: "Overview",
    statistics: "Statistics",
    charts: "Charts",
    reports: "Reports",
  },
  user: {
    title: "User Management",
    list: "User List",
    profile: "Profile",
    settings: "Settings",
    avatar: "Avatar",
    email: "Email",
    role: "Role",
    status: "Status",
  },
};
```

## ğŸ”§ ä½¿ç”¨ç¤ºä¾‹

### åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

```vue
<template>
  <div class="i18n-example">
    <!-- ä½¿ç”¨ $t å‡½æ•° -->
    <h1>{{ $t("dashboard.title") }}</h1>
    <p>{{ $t("common.loading") }}</p>

    <!-- ä½¿ç”¨å‚æ•° -->
    <p>{{ $t("user.welcome", { name: username }) }}</p>

    <!-- ä½¿ç”¨å¤æ•° -->
    <p>{{ $tc("user.count", userCount) }}</p>

    <!-- è¯­è¨€åˆ‡æ¢ -->
    <div class="language-switch">
      <button
        v-for="locale in supportedLocales"
        :key="locale.key"
        @click="changeLocale(locale.key)"
        :class="{ active: currentLocale === locale.key }"
      >
        {{ locale.flag }} {{ locale.name }}
      </button>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed } from "vue";
import { useI18n } from "vue-i18n";
import { setLocale, supportedLocales } from "@/locales";

const { t, locale } = useI18n();

const currentLocale = computed(() => locale.value);
const username = ref("John");
const userCount = ref(5);

const changeLocale = (newLocale: string) => {
  setLocale(newLocale);
};
</script>
```

### åœ¨ç»„åˆå¼å‡½æ•°ä¸­ä½¿ç”¨

```typescript
// hooks/useLocale.ts
import { computed } from "vue";
import { useI18n } from "vue-i18n";
import { setLocale, supportedLocales } from "@/locales";

export function useLocale() {
  const { t, locale } = useI18n();

  const currentLocale = computed(() => locale.value);

  const changeLocale = (newLocale: string) => {
    setLocale(newLocale);
  };

  const translate = (key: string, params?: Record<string, any>) => {
    return t(key, params);
  };

  return {
    currentLocale,
    changeLocale,
    translate,
    supportedLocales,
  };
}
```

### è¯­è¨€åˆ‡æ¢ç»„ä»¶

```vue
<template>
  <div class="language-switch">
    <select v-model="currentLocale" @change="handleLocaleChange">
      <option
        v-for="locale in supportedLocales"
        :key="locale.key"
        :value="locale.key"
      >
        {{ locale.flag }} {{ locale.name }}
      </option>
    </select>
  </div>
</template>

<script setup lang="ts">
import { ref, computed } from "vue";
import { useLocale } from "@/hooks/useLocale";

const { currentLocale, changeLocale, supportedLocales } = useLocale();

const handleLocaleChange = (event: Event) => {
  const target = event.target as HTMLSelectElement;
  changeLocale(target.value);
};
</script>
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. è¯­è¨€åŒ…ç»„ç»‡

```typescript
// æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡è¯­è¨€åŒ…
// locales/modules/auth.ts - è®¤è¯ç›¸å…³
// locales/modules/dashboard.ts - ä»ªè¡¨ç›˜ç›¸å…³
// locales/modules/user.ts - ç”¨æˆ·ç›¸å…³
```

### 2. ç±»å‹å®‰å…¨

```typescript
// å®šä¹‰ç¿»è¯‘é”®ç±»å‹
type TranslationKey =
  | "common.confirm"
  | "common.cancel"
  | "auth.login"
  | "auth.logout"
  | "dashboard.title"
  | "user.profile";

// ç±»å‹å®‰å…¨çš„ç¿»è¯‘å‡½æ•°
function t(key: TranslationKey, params?: Record<string, any>): string {
  return i18n.global.t(key, params);
}
```

### 3. æ ¼å¼åŒ–

```vue
<template>
  <!-- æ—¥æœŸæ ¼å¼åŒ– -->
  <p>{{ $d(new Date(), "long") }}</p>

  <!-- æ•°å­—æ ¼å¼åŒ– -->
  <p>{{ $n(1234.56, "currency") }}</p>

  <!-- å¤æ•°å¤„ç† -->
  <p>{{ $tc("user.count", userCount) }}</p>
</template>
```

---

è¿™å¥—å›½é™…åŒ–ç³»ç»Ÿä¸º cc-admin æ¡†æ¶æä¾›äº†å®Œæ•´çš„å¤šè¯­è¨€æ”¯æŒèƒ½åŠ›ã€‚
title: i18n
date: 2025-08-04 16:46:36
permalink: /pages/253adb/
categories:

- guide
  tags:
- author:
  name: æ–‡æ¡£ä½œè€…
  link: https://github.com/your-username

---
